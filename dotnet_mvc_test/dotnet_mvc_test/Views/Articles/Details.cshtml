@model dotnet_mvc_test.Models.ViewModels.ArticleDetailViewModel

@{
    ViewData["Title"] = Model.Title;
}

<div class="container my-5">
    <div class="row justify-content-center">
        <div class="col-lg-8">
            <!-- ナビゲーション -->
            <div class="mb-4">
                <a asp-controller="Articles" asp-action="Index" class="btn btn-outline-secondary btn-sm">
                    <i class="bi bi-arrow-left"></i> 記事一覧へ戻る
                </a>
            </div>

            <!-- 記事ヘッダー -->
            <header class="mb-4">
                <h1 class="display-4 fw-bold mb-3">@Model.Title</h1>
                
                <!-- メタ情報 -->
                <div class="d-flex flex-wrap align-items-center gap-3 mb-3">
                    @if (!string.IsNullOrEmpty(Model.CategoryName))
                    {
                        <span class="badge bg-primary text-white px-3 py-2">
                            <i class="bi bi-folder"></i> @Model.CategoryName
                        </span>
                    }
                </div>

                <!-- タグ -->
                @if (Model.TagNames != null && Model.TagNames.Any())
                {
                    <div class="mb-3">
                        @foreach (var tag in Model.TagNames)
                        {
                            <span class="badge bg-secondary text-white me-2 mb-2">
                                <i class="bi bi-tag"></i> @tag
                            </span>
                        }
                    </div>
                }

                <!-- 著者と公開日 -->
                <div class="text-muted">
                    <i class="bi bi-person-circle"></i> <span class="me-3">@Model.AuthorName</span>
                    <i class="bi bi-calendar3"></i> <time datetime="@Model.PublishedAt.ToString("yyyy-MM-dd")">
                        @Model.PublishedAt.ToString("yyyy年MM月dd日")
                    </time>
                </div>
            </header>

            <hr class="my-4">

            <!-- 記事コンテンツ -->
            <article class="article-content mb-5">
                @Html.Raw(Model.RenderedContent)
            </article>

            <hr class="my-4">

            <!-- フッターナビゲーション -->
            <div class="d-flex justify-content-between align-items-center">
                <a asp-controller="Articles" asp-action="Index" class="btn btn-outline-secondary">
                    <i class="bi bi-arrow-left"></i> 記事一覧へ戻る
                </a>
                <a href="#" class="btn btn-outline-primary" onclick="window.scrollTo({top: 0, behavior: 'smooth'}); return false;">
                    <i class="bi bi-arrow-up"></i> ページトップへ
                </a>
            </div>
        </div>
    </div>
</div>

<style>
    /* 記事コンテンツのスタイリング */
    .article-content {
        font-size: 1.125rem;
        line-height: 1.8;
        color: #333;
    }

    .article-content h1,
    .article-content h2,
    .article-content h3,
    .article-content h4,
    .article-content h5,
    .article-content h6 {
        margin-top: 2rem;
        margin-bottom: 1rem;
        font-weight: 600;
        line-height: 1.3;
    }

    .article-content h2 {
        font-size: 2rem;
        border-bottom: 2px solid #dee2e6;
        padding-bottom: 0.5rem;
    }

    .article-content h3 {
        font-size: 1.75rem;
    }

    .article-content h4 {
        font-size: 1.5rem;
    }

    .article-content p {
        margin-bottom: 1.5rem;
    }

    .article-content a {
        color: #0d6efd;
        text-decoration: underline;
    }

    .article-content a:hover {
        color: #0a58ca;
    }

    .article-content ul,
    .article-content ol {
        margin-bottom: 1.5rem;
        padding-left: 2rem;
    }

    .article-content li {
        margin-bottom: 0.5rem;
    }

    .article-content blockquote {
        border-left: 4px solid #0d6efd;
        padding-left: 1rem;
        margin: 1.5rem 0;
        color: #6c757d;
        font-style: italic;
    }

    .article-content pre {
        background-color: #f8f9fa;
        border: 1px solid #dee2e6;
        border-radius: 0.375rem;
        padding: 1rem;
        overflow-x: auto;
        margin-bottom: 1.5rem;
    }

    .article-content code {
        background-color: #f8f9fa;
        padding: 0.2rem 0.4rem;
        border-radius: 0.25rem;
        font-size: 0.9em;
        color: #d63384;
    }

    .article-content pre code {
        background-color: transparent;
        padding: 0;
        color: inherit;
    }

    .article-content img {
        max-width: 100%;
        height: auto;
        border-radius: 0.375rem;
        margin: 1.5rem 0;
        box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);
    }

    .article-content table {
        width: 100%;
        margin-bottom: 1.5rem;
        border-collapse: collapse;
    }

    .article-content table th,
    .article-content table td {
        padding: 0.75rem;
        border: 1px solid #dee2e6;
    }

    .article-content table th {
        background-color: #f8f9fa;
        font-weight: 600;
    }

    .article-content hr {
        margin: 2rem 0;
        border-color: #dee2e6;
    }

    /* レスポンシブ調整 */
    @@media (max-width: 768px) {
        .article-content {
            font-size: 1rem;
        }

        .article-content h2 {
            font-size: 1.75rem;
        }

        .article-content h3 {
            font-size: 1.5rem;
        }

        .article-content h4 {
            font-size: 1.25rem;
        }
    }
</style>
